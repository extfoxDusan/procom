<section class="container">

    <form [formGroup]="form" (ngSubmit)="onSubmit()">
        <div class="row">

            <ng-container *ngIf="this.formMessage">
                <div class="alert alert-danger col-12" role="alert">
                    {{ this.formMessage }}
                </div>
            </ng-container>

            <div class="col-sm-6">
                <label for="firstName" class="form-label">First name</label>
                <input type="text" class="form-control" id="firstName" placeholder="" formControlName="firstName">
            </div>

            <div class="col-sm-6 mb-3">
                <label for="lastName" class="form-label">Last name</label>
                <input type="text" class="form-control" id="lastName" placeholder="" formControlName="lastName">
            </div>

            <div class="col-sm-6">
                <label for="email" class="form-label">Email name</label>
                <input type="email" class="form-control" id="email" placeholder="" formControlName="email">
            </div>

            <div class="col-sm-6">
                <label for="phoneNumber" class="form-label">Phone number</label>
                <input type="text" class="form-control" id="phoneNumber" placeholder="" formControlName="phoneNumber">
            </div>

            <hr>

            <div class="col-sm-12 mt-3" formArrayName="addresses">

                <div class="row mb-3">
                    <div class="col-sm">
                        Addresses
                    </div>
                    <div class="col-sm text-end w-100">
                        <a href="javascript:void(0)" (click)="addAddresses()">
                            Add
                        </a>
                    </div>
                </div>

                <ng-container *ngFor="let item of addresses.controls; let mainIndex=index">

                    <ng-container [formGroupName]="mainIndex">

                        <div class="row">

                            <div class="col-sm-6">
                                <label for="streetName" class="form-label">Street Name</label>
                                <input type="text" class="form-control" id="streetName" placeholder=""
                                    formControlName="streetName">
                            </div>

                            <div class="col-sm-6 mb-3">
                                <label for="postalCode" class="form-label">Postal Code</label>
                                <input type="text" class="form-control" id="postalCode" placeholder=""
                                    formControlName="postalCode">
                            </div>

                            <div class="col-sm-6">
                                <label for="apartmentNumber" class="form-label">Apartment Number</label>
                                <input type="number" class="form-control" id="apartmentNumber" placeholder=""
                                    formControlName="apartmentNumber">
                            </div>

                            <div class="col-sm-6 mb-3">
                                <label for="state" class="form-label">State</label>
                                <input type="text" class="form-control" id="state" placeholder=""
                                    formControlName="state">
                            </div>

                            <div class="col-sm-12">
                                <label for="country" class="form-label">Country</label>
                                <input type="text" class="form-control" id="country" placeholder=""
                                    formControlName="country">
                            </div>

                        </div>

                    </ng-container>

                    <hr class="border-top">
                </ng-container>

                <div class="mt-3">
                    <button type="submit" class="btn btn-primary w-100" [disabled]="form.invalid">{{ (this.subjectId) ? 'Update': 'Create' }} </button>
                </div>
            </div>


        </div>
    </form>
</section>